{"ast":null,"code":"import isEmailValid from\"../validators/emailValidator\";var map=require('./map.json');export var isNumeric=function isNumeric(string){return /^-?\\d+$/.test(string);};export var wordToNumber=function wordToNumber(string){if(isNumeric(string)){return string;}// @ts-ignore\nreturn map[string];};var getRanges=function getRanges(array){var ranges=[];var start;var end;for(var i=0;i<array.length;i+=1){start=array[i];end=start;while(array[i+1]-array[i]===1){end=array[i+1];i+=1;}ranges.push(start===end?\"\".concat(start):\"\".concat(start,\"-\").concat(end));}return ranges;};export var groupNumbers=function groupNumbers(array){var arrayOfNumbers=array.map(function(number){return parseInt(number,10);});arrayOfNumbers.sort(function(a,b){return a-b;});return getRanges(arrayOfNumbers);};var transformOptions=function transformOptions(optionValue){var array=optionValue.map(function(item){return wordToNumber(item.code);});return groupNumbers(array).toString();};export var transformPeriod=function transformPeriod(radioButtonValue,optionValue){if(!['Minutes','Hours','Days','Months','Weekday'].includes(radioButtonValue)){// @ts-ignore\nreturn map[radioButtonValue];}if(optionValue.length===0){return'';}return transformOptions(optionValue);};export var transform=function transform(minutesRadio,minutesOptions,hoursRadio,hoursOptions,daysRadio,daysOptions,monthsRadio,monthsOptions,weekdayRadio,weekdayOptions,command,output,path,email){var minutes=transformPeriod(minutesRadio,minutesOptions);var hours=transformPeriod(hoursRadio,hoursOptions);var days=transformPeriod(daysRadio,daysOptions);var months=transformPeriod(monthsRadio,monthsOptions);var weekday=transformPeriod(weekdayRadio,weekdayOptions);if(!minutes)return'Invalid Minutes';if(!hours)return'Invalid Hours';if(!days)return'Invalid Days';if(!months)return'Invalid Months';if(!weekday)return'Invalid Weekday';if(!command)return'Invalid Command';if(!isEmailValid(email)&&output==='email')return'Invalid Email';if(!path&&output==='file')return'Invalid Path';var wayToHandleOutput;if(output==='mute'){wayToHandleOutput='>/dev/null 2>&1';}else if(output==='file'){wayToHandleOutput=\"> \".concat(path);}else if(output==='email'){wayToHandleOutput=\"MAILTO=\\\"\".concat(email,\"\\\"\\n        \");}var expression=\"\".concat(output==='email'?wayToHandleOutput:'',\" \")+\"\".concat(minutes,\" \").concat(hours,\" \").concat(days,\" \").concat(months,\" \").concat(weekday,\" \")+\"\".concat(command,\" \").concat(output!=='email'?wayToHandleOutput:'');return expression.trim();};export default transform;","map":{"version":3,"names":["isEmailValid","map","require","isNumeric","string","test","wordToNumber","getRanges","array","ranges","start","end","i","length","push","groupNumbers","arrayOfNumbers","number","parseInt","sort","a","b","transformOptions","optionValue","item","code","toString","transformPeriod","radioButtonValue","includes","transform","minutesRadio","minutesOptions","hoursRadio","hoursOptions","daysRadio","daysOptions","monthsRadio","monthsOptions","weekdayRadio","weekdayOptions","command","output","path","email","minutes","hours","days","months","weekday","wayToHandleOutput","expression","trim"],"sources":["C:/Users/Ahsan/Desktop/react_Projects/webdev/web-developer-tools/src/utils/transformers/humanReadableToCrontab.ts"],"sourcesContent":["import {MultiselectOption} from \"../../types/crontabGenerator\";\r\nimport isEmailValid from \"../validators/emailValidator\";\r\n\r\nconst map = require('./map.json');\r\n\r\nexport const isNumeric = (string: string): boolean => /^-?\\d+$/.test(string)\r\n\r\nexport const wordToNumber = (string: string): string => {\r\n    if (isNumeric(string)) {\r\n        return string;\r\n    }\r\n\r\n    // @ts-ignore\r\n    return map[string];\r\n}\r\n\r\nconst getRanges = (array: any[]): any[] => {\r\n    const ranges = [];\r\n    let start;\r\n    let end;\r\n    for (let i = 0; i < array.length; i += 1) {\r\n        start = array[i];\r\n        end = start;\r\n        while (array[i + 1] - array[i] === 1) {\r\n            end = array[i + 1];\r\n            i += 1;\r\n        }\r\n        ranges.push(start === end ? `${start}` : `${start}-${end}`);\r\n    }\r\n    return ranges;\r\n}\r\n\r\nexport const groupNumbers = (array: string[]): any[] => {\r\n\r\n    const arrayOfNumbers = array.map(number => parseInt(number, 10))\r\n\r\n    arrayOfNumbers.sort((a, b) => a - b);\r\n\r\n    return getRanges(arrayOfNumbers);\r\n}\r\n\r\nconst transformOptions = (optionValue: MultiselectOption[]): string => {\r\n\r\n    const array: string[] = optionValue.map(item => wordToNumber(item.code));\r\n\r\n    return groupNumbers(array).toString();\r\n}\r\n\r\nexport const transformPeriod = (radioButtonValue: string, optionValue: any[]): string => {\r\n\r\n    if (!['Minutes', 'Hours', 'Days', 'Months', 'Weekday'].includes(radioButtonValue)) {\r\n        // @ts-ignore\r\n        return map[radioButtonValue];\r\n    }\r\n\r\n    if (optionValue.length === 0) {\r\n        return '';\r\n    }\r\n\r\n    return transformOptions(optionValue);\r\n}\r\n\r\nexport const transform = (\r\n    minutesRadio: string,\r\n    minutesOptions: any[],\r\n    hoursRadio: string,\r\n    hoursOptions: any[],\r\n    daysRadio: string,\r\n    daysOptions: any[],\r\n    monthsRadio: string,\r\n    monthsOptions: any[],\r\n    weekdayRadio: string,\r\n    weekdayOptions: any[],\r\n    command: string,\r\n    output: string,\r\n    path: string,\r\n    email: string\r\n): string => {\r\n    const minutes = transformPeriod(minutesRadio, minutesOptions);\r\n    const hours = transformPeriod(hoursRadio, hoursOptions);\r\n    const days = transformPeriod(daysRadio, daysOptions);\r\n    const months = transformPeriod(monthsRadio, monthsOptions);\r\n    const weekday = transformPeriod(weekdayRadio, weekdayOptions);\r\n\r\n    if (!minutes) return 'Invalid Minutes';\r\n    if (!hours) return 'Invalid Hours';\r\n    if (!days) return 'Invalid Days';\r\n    if (!months) return 'Invalid Months';\r\n    if (!weekday) return 'Invalid Weekday';\r\n    if (!command) return 'Invalid Command';\r\n    if (!isEmailValid(email) && output === 'email') return 'Invalid Email';\r\n    if (!path && output === 'file') return 'Invalid Path';\r\n\r\n    let wayToHandleOutput;\r\n\r\n    if (output === 'mute') {\r\n        wayToHandleOutput = '>/dev/null 2>&1';\r\n    } else if (output === 'file') {\r\n        wayToHandleOutput = `> ${path}`;\r\n    } else if (output === 'email') {\r\n        wayToHandleOutput = `MAILTO=\"${email}\"\r\n        `;\r\n    }\r\n\r\n    const expression = `${output === 'email' ? wayToHandleOutput : ''} ` +\r\n        `${minutes} ${hours} ${days} ${months} ${weekday} ` +\r\n        `${command} ${output !== 'email' ? wayToHandleOutput : ''}`;\r\n\r\n    return expression.trim()\r\n}\r\n\r\nexport default transform;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}